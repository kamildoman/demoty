[{"C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\index.js":"1","C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\App.js":"2","C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\reportWebVitals.js":"3","C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\Demot.jsx":"4","C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\Navbar.jsx":"5","C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\Pagination.jsx":"6","C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\SinglePageDemot.jsx":"7","C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\SingleComment.jsx":"8"},{"size":544,"mtime":1640164911755,"results":"9","hashOfConfig":"10"},{"size":1904,"mtime":1641383685072,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":1640000782045,"results":"12","hashOfConfig":"10"},{"size":2890,"mtime":1641383712001,"results":"13","hashOfConfig":"10"},{"size":3025,"mtime":1641383668838,"results":"14","hashOfConfig":"10"},{"size":854,"mtime":1640165726644,"results":"15","hashOfConfig":"10"},{"size":2934,"mtime":1641383650420,"results":"16","hashOfConfig":"10"},{"size":372,"mtime":1641382662624,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"11euxga",{"filePath":"21","messages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\index.js",[],["36","37"],"C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\App.js",[],"C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\reportWebVitals.js",[],"C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\Demot.jsx",[],"C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\Navbar.jsx",[],"C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\Pagination.jsx",[],"C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\SinglePageDemot.jsx",["38"],"import React, {useState, useEffect} from 'react'\r\nimport {useParams} from 'react-router-dom';\r\nimport axios from \"axios\";\r\nimport Demot from './Demot';\r\nimport SingleComment from './SingleComment';\r\n\r\nconst SinglePageDemot = () => {\r\n    const {id} = useParams();\r\n    const [demot, setDemot] = useState(\"\")\r\n    const [comments, setComments] = useState([])\r\n    const [doesExist, setDoesExist] = useState(true)\r\n    const [commentValue, setCommentValue] = useState(\"\")\r\n\r\n    function handleCommentChange(event){\r\n        setCommentValue(event.target.value)\r\n    }\r\n\r\n    function addComment(){\r\n        var formData = new FormData();\r\n        formData.append(\"comment_text\", commentValue);\r\n        formData.append(\"demot\", id);\r\n        setCommentValue(\"\")\r\n        \r\n        axios.post('/api/comments/', formData)\r\n        setTimeout(getComments, 1000)\r\n    }\r\n\r\n    function getComments(){\r\n        let results = []\r\n        axios.get('/api/comments/')\r\n        .then(function(response){\r\n            response.data.forEach(comment => {\r\n                if (comment.demot === Number(id)){\r\n                    results.push(comment)\r\n                }\r\n            })\r\n            setComments(results.reverse())\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function getData(){\r\n            axios.get('/api/demots/' + id +'/')\r\n            .then(function (response) {\r\n                    setDemot(response?.data) \r\n            })\r\n            .catch(e => {\r\n                if (e.response.status === 404){\r\n                    setDoesExist(false)\r\n                }\r\n            })\r\n        }\r\n       \r\n\r\n        getData();\r\n        getComments();\r\n        \r\n      }, [id])\r\n      if (doesExist){\r\n        return (\r\n            <div>\r\n                <Demot\r\n                  key= {demot.id} \r\n                  id = {demot.id}\r\n                  whole = {true}\r\n                  title={demot.title}\r\n                  subtitle={demot.subtitle}  \r\n                  image={demot.image}\r\n                  upvote={demot.upvote}\r\n                  downvote={demot.downvote}\r\n                  ips={demot.ips}\r\n                  />\r\n                  <div>\r\n                    <input \r\n                    id=\"comments-input\" onChange={handleCommentChange} value={commentValue} placeholder=\"Add a comment...\" />\r\n                    <button type=\"submit\" onClick={addComment}     \r\n                    className=\"comments-button\">Post</button>\r\n                </div>\r\n                  {comments.map(comment => (\r\n                      <SingleComment \r\n                          key={comment.id}\r\n                          text={comment.comment_text}\r\n                          date={comment.date}\r\n                      />\r\n                  ))}\r\n            </div>\r\n        )\r\n      }\r\n      else {\r\n          return <div><h2>Sorry, it doesn't exist</h2></div>\r\n      }\r\n    \r\n}\r\n\r\nexport default SinglePageDemot\r\n","C:\\Users\\login\\Documents\\python\\demotywatory\\demoty\\src\\SingleComment.jsx",[],{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","severity":1,"message":"44","line":58,"column":10,"nodeType":"45","endLine":58,"endColumn":14,"suggestions":"46"},"no-native-reassign",["47"],"no-negated-in-lhs",["48"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getComments'. Either include it or remove the dependency array.","ArrayExpression",["49"],"no-global-assign","no-unsafe-negation",{"desc":"50","fix":"51"},"Update the dependencies array to be: [getComments, id]",{"range":"52","text":"53"},[1685,1689],"[getComments, id]"]