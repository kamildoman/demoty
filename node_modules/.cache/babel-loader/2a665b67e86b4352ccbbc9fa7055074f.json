{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\login\\\\Documents\\\\python\\\\demotywatory\\\\demoty\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState}from\"react\";import Modal from'react-modal';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginModal(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];function login(){var formData=new FormData();formData.append('username',username);formData.append('password',password);axios.post(\"/login/\",formData).then(function(response){console.log(response.data);localStorage.setItem('LoginToken',response.data.token);}).catch(function(e){alert(\"Wrong login or password!\");});setUsername(\"\");setPassword(\"\");props.refresh();}function handleUsernameChange(event){setUsername(event.target.value);}function handlePasswordChange(event){setPassword(event.target.value);}return/*#__PURE__*/_jsxs(Modal,{ariaHideApp:false,centered:true,className:\"addDemotModal\",isOpen:props.isOpen,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mainModal\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"LOGIN\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleUsernameChange,value:username,maxLength:\"30\",id:\"username\",placeholder:\"Write your username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:handlePasswordChange,value:password,maxLength:\"30\",id:\"password\",placeholder:\"Write your password\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"addDemotButton\",onClick:function onClick(){login();},children:\"LOGIN\"}),/*#__PURE__*/_jsx(\"button\",{className:\"dontAddDemotButton\",onClick:function onClick(){props.openLoginModal();},children:\"CLOSE\"})]});}export default LoginModal;","map":{"version":3,"sources":["C:/Users/login/Documents/python/demotywatory/demoty/src/LoginModal.jsx"],"names":["React","useState","Modal","axios","LoginModal","props","username","setUsername","password","setPassword","login","formData","FormData","append","post","then","response","console","log","data","localStorage","setItem","token","catch","e","alert","refresh","handleUsernameChange","event","target","value","handlePasswordChange","isOpen","openLoginModal"],"mappings":"qJAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CAEvB,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAAgCN,QAAQ,CAAC,EAAD,CAAxC,yCAAOO,QAAP,eAAiBC,WAAjB,eAEA,QAASC,CAAAA,KAAT,EAAgB,CACZ,GAAIC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAf,CACAD,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA4BP,QAA5B,EACAK,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA4BL,QAA5B,EACAL,KAAK,CAACW,IAAN,CAAW,SAAX,CAAsBH,QAAtB,EACCI,IADD,CACM,SAAUC,QAAV,CAAoB,CACtBC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACAC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAmCL,QAAQ,CAACG,IAAT,CAAcG,KAAjD,EACH,CAJD,EAIGC,KAJH,CAIS,SAAAC,CAAC,CAAI,CACVC,KAAK,CAAC,0BAAD,CAAL,CACH,CAND,EAOAlB,WAAW,CAAC,EAAD,CAAX,CACAE,WAAW,CAAC,EAAD,CAAX,CACAJ,KAAK,CAACqB,OAAN,GACH,CAED,QAASC,CAAAA,oBAAT,CAA8BC,KAA9B,CAAoC,CAChCrB,WAAW,CAACqB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CACH,CAED,QAASC,CAAAA,oBAAT,CAA8BH,KAA9B,CAAoC,CAChCnB,WAAW,CAACmB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CACH,CAED,mBACI,MAAC,KAAD,EAAO,WAAW,CAAE,KAApB,CAA2B,QAAQ,KAAnC,CAAoC,SAAS,CAAC,eAA9C,CAA8D,MAAM,CAAEzB,KAAK,CAAC2B,MAA5E,wBACA,aAAK,SAAS,CAAC,WAAf,wBACI,6BADJ,cAEI,cAAO,QAAQ,CAAEL,oBAAjB,CAAuC,KAAK,CAAErB,QAA9C,CACA,SAAS,CAAC,IADV,CACe,EAAE,CAAC,UADlB,CAC6B,WAAW,CAAC,qBADzC,EAFJ,cAII,cAAO,IAAI,CAAC,UAAZ,CAAuB,QAAQ,CAAEyB,oBAAjC,CAAuD,KAAK,CAAEvB,QAA9D,CACA,SAAS,CAAC,IADV,CACe,EAAE,CAAC,UADlB,CAC6B,WAAW,CAAC,qBADzC,EAJJ,GADA,cASI,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAE,kBAAM,CAACE,KAAK,GAAG,CAA3D,mBATJ,cAWI,eAAQ,SAAS,CAAC,oBAAlB,CAAuC,OAAO,CAAE,kBAAM,CAACL,KAAK,CAAC4B,cAAN,GAAuB,CAA9E,mBAXJ,GADJ,CAeH,CAED,cAAe7B,CAAAA,UAAf","sourcesContent":["import React, {useState} from \"react\";\r\nimport Modal from 'react-modal';\r\nimport axios from \"axios\";\r\n\r\nfunction LoginModal(props) {\r\n\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    function login(){\r\n        var formData = new FormData();\r\n        formData.append('username', username)\r\n        formData.append('password', password)\r\n        axios.post(\"/login/\", formData)\r\n        .then(function (response) {\r\n            console.log(response.data)\r\n            localStorage.setItem('LoginToken', response.data.token);\r\n        }).catch(e => {\r\n            alert(\"Wrong login or password!\")\r\n        })\r\n        setUsername(\"\")\r\n        setPassword(\"\")\r\n        props.refresh()\r\n    }\r\n\r\n    function handleUsernameChange(event){\r\n        setUsername(event.target.value)\r\n    }\r\n\r\n    function handlePasswordChange(event){\r\n        setPassword(event.target.value)\r\n    }\r\n    \r\n    return (\r\n        <Modal ariaHideApp={false} centered className=\"addDemotModal\" isOpen={props.isOpen}>\r\n        <div className=\"mainModal\">\r\n            <h2>LOGIN</h2>\r\n            <input onChange={handleUsernameChange} value={username} \r\n            maxLength=\"30\" id=\"username\" placeholder=\"Write your username\" />\r\n            <input type=\"password\" onChange={handlePasswordChange} value={password} \r\n            maxLength=\"30\" id=\"password\" placeholder=\"Write your password\" />\r\n            \r\n        </div>\r\n            <button className=\"addDemotButton\" onClick={() => {login()}}>LOGIN</button>\r\n        \r\n            <button className=\"dontAddDemotButton\" onClick={() => {props.openLoginModal()}}>CLOSE</button>\r\n    </Modal>\r\n    )\r\n}\r\n\r\nexport default LoginModal\r\n"]},"metadata":{},"sourceType":"module"}