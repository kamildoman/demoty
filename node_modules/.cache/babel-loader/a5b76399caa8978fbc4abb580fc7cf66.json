{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\login\\\\Documents\\\\python\\\\demotywatory\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState}from\"react\";import Modal from'react-modal';import axios from\"axios\";import Demot from\"./Demot\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalIsOpen=_useState2[0],setModalIsOpen=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),subtitle=_useState6[0],setSubtitle=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),image=_useState8[0],setImage=_useState8[1];// this one is shown while creating demots\nvar _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),imageDisplay=_useState10[0],setImageDisplay=_useState10[1];function addModal(){var formData=new FormData();formData.append(\"title\",title);formData.append(\"subtitle\",subtitle);formData.append(\"image\",image);setTitle('');setSubtitle('');setImage(null);setImageDisplay(null);axios.post(\"/api/\",formData,{headers:{'Content-Type':'multipart/form-data'}}).catch(function(error){alert(\"Title and photo are required! Error message: \"+error);});setModalIsOpen(false);setTimeout(props.refresh,1000);props.setCurrentPage(1);}function openAddDemotModal(){setModalIsOpen(!modalIsOpen);}function handleTitleChange(event){setTitle(event.target.value);}function handleSubtitleChange(event){setSubtitle(event.target.value);}function handleImageChange(event){var file=event.target.files[0];setImage(file);setImageDisplay(URL.createObjectURL(file));}return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand navbar-dark bg-dark justify-content-center\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand abs\",href:\"/\",children:\"DEMOT\"}),/*#__PURE__*/_jsxs(Modal,{ariaHideApp:false,centered:true,className:\"addDemotModal\",isOpen:modalIsOpen,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mainModal\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"ADD DEMOT\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleTitleChange,value:title,maxLength:\"30\",id:\"title\",placeholder:\"Write your title\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleSubtitleChange,value:subtitle,maxLength:\"150\",id:\"subtitle\",placeholder:\"Write your subtitle\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"img\",name:\"img\",accept:\"image/*\",onChange:handleImageChange}),/*#__PURE__*/_jsx(\"label\",{className:\"imgLabel\",htmlFor:\"img\",children:\"Upload image\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"addDemotButton\",onClick:function onClick(){addModal();},children:\"ADD\"}),/*#__PURE__*/_jsx(\"button\",{className:\"dontAddDemotButton\",onClick:function onClick(){openAddDemotModal();},children:\"CLOSE\"}),/*#__PURE__*/_jsx(\"div\",{className:\"smallDemotAlign\",children:/*#__PURE__*/_jsx(Demot,{whole:false,title:title,subtitle:subtitle,image:imageDisplay})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse flex-grow-1 text-right\",id:\"myNavbar\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav ml-auto flex-nowrap\",children:/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){openAddDemotModal();},className:\"nav-link m-2 menu-item addButton\"})})})})]});}export default Navbar;","map":{"version":3,"sources":["C:/Users/login/Documents/python/demotywatory/frontend/src/Navbar.jsx"],"names":["React","useState","Modal","axios","Demot","Navbar","props","modalIsOpen","setModalIsOpen","title","setTitle","subtitle","setSubtitle","image","setImage","imageDisplay","setImageDisplay","addModal","formData","FormData","append","post","headers","catch","error","alert","setTimeout","refresh","setCurrentPage","openAddDemotModal","handleTitleChange","event","target","value","handleSubtitleChange","handleImageChange","file","files","URL","createObjectURL"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\r\nimport Modal from 'react-modal';\r\nimport axios from \"axios\";\r\nimport Demot from \"./Demot\"\r\n\r\n\r\nfunction Navbar(props){\r\n\r\n    const [modalIsOpen, setModalIsOpen] = useState(false)\r\n    const [title, setTitle] = useState('')\r\n    const [subtitle, setSubtitle] = useState('')\r\n    const [image, setImage] = useState(null)\r\n    // this one is shown while creating demots\r\n    const [imageDisplay, setImageDisplay] = useState(null)\r\n\r\n    function addModal(){\r\n        var formData = new FormData();\r\n        formData.append(\"title\", title);\r\n        formData.append(\"subtitle\", subtitle)\r\n        formData.append(\"image\", image);\r\n        setTitle('')\r\n        setSubtitle('')\r\n        setImage(null)\r\n        setImageDisplay(null)\r\n        axios.post(\"/api/\", formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            }}).catch(error => {\r\n                alert(\"Title and photo are required! Error message: \" + error)\r\n            })\r\n        setModalIsOpen(false)\r\n        setTimeout(props.refresh, 1000)\r\n        props.setCurrentPage(1)\r\n    }\r\n\r\n    function openAddDemotModal(){\r\n        setModalIsOpen(!modalIsOpen)\r\n    }\r\n\r\n    function handleTitleChange(event){\r\n        setTitle(event.target.value)\r\n    }\r\n    function handleSubtitleChange(event){\r\n        setSubtitle(event.target.value)\r\n    }\r\n    function handleImageChange(event){\r\n        var file = event.target.files[0]\r\n        setImage(file)\r\n        setImageDisplay(URL.createObjectURL(file))\r\n    }\r\n\r\n    return (<nav className=\"navbar navbar-expand navbar-dark bg-dark justify-content-center\">\r\n    <a className=\"navbar-brand abs\" href=\"/\">DEMOT</a>\r\n    <Modal ariaHideApp={false} centered className=\"addDemotModal\" isOpen={modalIsOpen}>\r\n    <div className=\"mainModal\">\r\n        <h2>ADD DEMOT</h2>\r\n        <input onChange={handleTitleChange} value={title} maxLength=\"30\" id=\"title\" placeholder=\"Write your title\"></input>\r\n        <input onChange={handleSubtitleChange} value={subtitle} maxLength=\"150\" id=\"subtitle\" placeholder=\"Write your subtitle\"></input>\r\n        <input type=\"file\" id=\"img\" name=\"img\" accept=\"image/*\" onChange={handleImageChange}  />\r\n        <label className=\"imgLabel\" htmlFor=\"img\">Upload image</label>\r\n    </div>\r\n        <button className=\"addDemotButton\" onClick={() => {addModal()}}>ADD</button>\r\n    \r\n        <button className=\"dontAddDemotButton\" onClick={() => {openAddDemotModal()}}>CLOSE</button>\r\n    <div className=\"smallDemotAlign\">\r\n        <Demot whole={false} title={title} subtitle={subtitle} image={imageDisplay}/>\r\n    </div>\r\n    \r\n    </Modal>\r\n    <div className=\"collapse navbar-collapse flex-grow-1 text-right\" id=\"myNavbar\">\r\n        <ul className=\"navbar-nav ml-auto flex-nowrap\">\r\n            <li className=\"nav-item\">\r\n                <button onClick={() => {openAddDemotModal()}} className=\"nav-link m-2 menu-item addButton\"></button>\r\n            </li>\r\n\r\n        </ul>\r\n    </div>\r\n  </nav>)\r\n}\r\n\r\nexport default Navbar"]},"metadata":{},"sourceType":"module"}